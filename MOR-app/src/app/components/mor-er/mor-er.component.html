<div class="position-relative" style="z-index: 1040">
  <div class="position-absolute top-0 end-0">
    <app-language-selector
      data-bs-toggle="tooltip"
      data-bs-html="true"
      data-bs-placement="left"
      title="<b>Change language</b><br>of displayed content"
      [(selectedLanguage)]="selectedLanguage"
    ></app-language-selector>
  </div>
</div>

<div
  class="row d-flex justify-content-center align-items-center"
  *ngFor="let evidenceType of getEvidenceTypes()"
>
  <div class="col-6 text-end p-2">
    <button type="button" class="btn btn-sm btn-secondary">
      <fa-icon
        class="me-2"
        [icon]="faFileCode"
        data-bs-toggle="tooltip"
        data-bs-html="true"
        [title]="
          '<b>TO-DO</b>: View schema of <b>' +
          evidenceType.name +
          '</b> canonical evidence type.'
        "
      ></fa-icon
      >{{ evidenceType.name }}
    </button>
  </div>
  <div class="col-6 p-2">
    <!-- TO-DO: Disable countries without provisions -->
    <app-country-selector
      [(countryCode)]="canonicalEvidenceCountries[evidenceType.tokenName || '']"
    ></app-country-selector>
  </div>
</div>

<div class="row p-2 mt-2" *ngIf="canonicalEvidenceCountriesSelected()">
  <div class="col-12 text-center">
    <button
      type="button"
      class="btn btn-sm btn-secondary"
      (click)="requestProvisions()"
      data-bs-toggle="modal"
      data-bs-target="#requestEvidenceModel"
    >
      <fa-icon [icon]="faSignInAlt" class="me-1"></fa-icon
      ><b>Request</b> cross-border evidence
    </button>
  </div>
</div>

<!-- Modal: Cross-boder evidence request -->
<div
  class="modal fade"
  id="requestEvidenceModel"
  tabindex="-1"
  aria-labelledby="requestEvidenceModelLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="requestEvidenceModelLabel">
          Cross-border evidence request
        </h5>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        <p>
          The <b>DE4A Technical System</b> will be used to request the following
          cross-border evidence:
        </p>
        <p class="text-danger">
          <b>TO-DO</b>: If multiple provisions, user selects provision per &lt;evidence, country&gt; pair.
        </p>
        <ul>
          <li *ngFor="let evidenceType of getEvidenceTypes()">
            <b>{{ evidenceType.name }}</b> from
            <b>{{
              dataLoaderCountries.getName(
                canonicalEvidenceCountries[evidenceType.tokenName || ""]
              )
            }}</b> ({{ getProvision(evidenceType.tokenName || "") }})
          </li>
        </ul>
        <p>
          You will be able to inspect the received evidence and choose if you
          want to proceed.
        </p>
        <p><b>Are you sure that you want use the DE4A Technical System?</b></p>
      </div>
      <div class="modal-footer">
        <button
          type="button"
          class="btn btn-sm btn-light"
          data-bs-dismiss="modal"
        >
          <fa-icon class="me-1" [icon]="faTimesCircle"></fa-icon>
          Cancel
        </button>
        <button type="button" class="btn btn-sm btn-secondary">
          <fa-icon class="me-1" [icon]="faCheckCircle"></fa-icon>Request
        </button>
      </div>
    </div>
  </div>
</div>
